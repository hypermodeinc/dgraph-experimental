(request:1 (operation:2 (body:1 { (block:1 (anonymousBlock:1 var (root:1 ( func : (rootCriteria:2 (termsOrTextCriteria:1 (termsOrTextOp:1 allofterms) ( (predicate:2 (name:1 name) @ (lang:3 en)) , (termsOrTextVal:1 "steven spielberg") ))) )) (selectionSet:1 { (field:1 (variableDeclaration:1 (variable:1 films) as) (predicate:1 <director.film>) (subSelectionSet:2 { (field:2 (variableDeclaration:1 (variable:1 p) as) (aggregation:3 (count:1 count ( (predicate:2 (name:1 starring)) )))) (field:2 (variableDeclaration:1 (variable:1 q) as) (aggregation:3 (count:1 count ( (predicate:2 (name:1 genre)) )))) (field:2 (variableDeclaration:1 (variable:1 r) as) (aggregation:3 (count:1 count ( (predicate:2 (name:1 country)) )))) (field:4 (math:2 (variableDeclaration:1 (variable:1 score) as) math ( (mathExpr:5 (mathExpr:5 (mathExpr:1 (variable:1 p)) + (mathExpr:1 (variable:1 q))) + (mathExpr:1 (variable:1 r))) ))) })) }))) (block:3 (namedBlock:1 (name:1 TopMovies) (root:1 ( func : (rootCriteria:6 (uidCriteria:1 uid ( (listUidValue:1 (uidValue:3 (variable:1 films))) ))) , (pagingOrOrderings:1 (pagingOrOrdering:4 (ordering:1 (orderingDirection:1 orderdesc) : (valOf:1 val ( (variable:1 score) )))) , (pagingOrOrdering:1 (pagingFirst:1 first : (intOrParam:2 (intValue:1 5))))) )) (selectionSet:1 { (field:1 (predicate:2 (name:1 name) @ (lang:3 en))) (field:3 (valOf:1 val ( (variable:1 score) ))) }))) })) <EOF>)
